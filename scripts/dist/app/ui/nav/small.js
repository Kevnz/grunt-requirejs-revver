define(["jquery"],function(e){function u(){typeof t=="undefined"&&(t=e("#js-nav-primary"),n=t.find(".js-nav-section-with-menu"),r=t.find(".js-nav-section-link"),i=e(".js-header-toggle-menu"),s=e("#site-search"),o=e(".js-header-toggle-search"))}function a(){n.each(function(){var t=e(this);t.find(".nav-level-2").css("height","auto")})}function f(e){e.preventDefault(),s.is(".is-expanded")&&o.trigger("click"),t.toggleClass("is-expanded is-collapsed"),i.toggleClass("is-expanded"),t.is(".is-collapsed")&&t.find(".is-expanded").removeClass("is-expanded")}function l(e){e.preventDefault(),i.is(".is-expanded")&&i.trigger("click"),s.toggleClass("is-expanded"),o.toggleClass("is-expanded")}function c(t){var n=e(this);n.is(".is-expanded")||i.find(".is-expanded").removeClass("is-expanded"),n.toggleClass("is-expanded")}function h(e){n.off("click",c)}function p(){v(),i.on("click",f),r.on("click",h),n.on("click",c),o.on("click",l),a()}function d(){i.off("click",f),r.off("click",h),n.off("click",c),o.off("click",l),m()}function v(){t.data("nav","true")}function m(){t.removeData("nav")}var t,n,r,i,s,o;return{init:u,bind:p,unbind:d}});
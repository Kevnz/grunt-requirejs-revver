define(["jquery","app/ui/video/youtube"],function(e,t){return window.onYouTubeIframeAPIReady=e.proxy(t.loadVideo,t),{init:function(e){t.setPlayerToLoad(e),typeof YT!="undefined"&&typeof YT.Player!="undefined"?t.loadVideo():t.loadAPI()},initRotatorVideo:function(){var t=e(".rotator-media");t.on("tabbery.click",".js-tabbery-item",{module:this},function(t){t.data.module.loadVideo(e(this).closest(".rotator-media").find(".js-youtube-player"))}),t.on("tabbery.click",".js-tabbery-item",{module:this},function(t){this.href.indexOf("#js-feature-gallery")>-1&&t.data.module._stopVideos.call(e(".js-youtube-pod")[0])})},_initLightboxEvent:function(){var t=e(".js-lightbox-video");t.on("click",function(){module.loadVideo(e(this).find(".js-youtube-player"))})},bindRotatorVideoEvent:function(e){e.on("click",{module:this},this.onClickRotatorVideoEvent),e.on("click",this._stopVideos)},unbindRotatorVideoEvent:function(e){e.off("click",this.onClickRotatorVideoEvent)},onClickRotatorVideoEvent:function(t){t.preventDefault(),t.data.module._handleClick(e(this))},_handleClick:function(e){this.stopTimer(),this.loadVideo(e.find(".js-youtube-player"))},_stopVideos:function(){var n=e(this),r=n.parents(".rotator").first(),i=r.data("namespace");e.subscribe(i+"/state/updated",function(){var r=n.find(".js-youtube-player");for(var i=0;r.length>i;i++){var s=e(r[i]);s.data("player")&&t.stopVideo(s.data("player"))}})},stopTimer:function(){e("#js-rotator-feature").trigger("stop.timer.brotator")},loadVideo:function(t){require(["app/ui/video/video"],function(n){e(document).ready(function(){n.init(t)})})}}});
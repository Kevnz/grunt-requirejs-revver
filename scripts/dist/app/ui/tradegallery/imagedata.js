define(["jquery","app/util/cookiemanager"],function(e,t){function r(e){if(!e)return;var r=t.read(n),i=undefined;try{i=jQuery.parseJSON(r)}catch(s){}if(r===""||i===null||i===undefined){t.create(n,"{}",7);return}i=jQuery.parseJSON(t.read(n)),e(i)}function i(e){var t=o();t[e.src]=e,u(t)}function s(e){var t=o();delete t[e.src],u(t)}function o(){var e=jQuery.parseJSON(t.read(n));return e===null&&(e={}),e}function u(e){t.create(n,JSON.stringify(e),7)}var n="trade-gallery-media";return{getList:r,addMediaItem:i,removeMediaItem:s}});
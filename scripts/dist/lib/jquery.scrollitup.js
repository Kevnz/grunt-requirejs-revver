(function(e,t,n,r){function u(t,n){var r,u;this.element=t,this.$element=e(this.element),this.options=e.extend({},s,n),this.$container=e(t).find(this.options.itemsWrapper),this.$viewport=e(t).find(this.options.viewport),this.$items=this.$container.find(this.options.items),this.itemsLength=this.$container.find(this.options.items).length,this._defaults=s,this._name=i,this.intervalId=0,this.minScroll=0,this.scrollDirection=this.options.vertical?"top":"left",r=this.$container.find(this.options.items).eq(this.itemsLength-1),this.maxScroll=this.options.vertical?this.$container.height()-this.$viewport.height():r.position().left+r.width()-this.$viewport.width(),this.setup[this.options.setup](this),this.initItems(),this.initControls(),this.initEvents(),u=this.$items.index(this.$items.filter(".is-selected")),this.options.lazyLoad&&o.getImages(this.$items,u,this.options.responsiveConfig.itemsPerView)}var i="scrollItUp",s={vertical:!1,next:".scroller-next",previous:".scroller-previous",speed:500,step:200,easing:"easeInOutExpo",itemsWrapper:".scroller-content",items:".scroller-item",viewport:".scroller-viewport",setup:"responsive",onhover:!1,lazyLoad:!1,responsiveConfig:{itemWidth:210,margin:20,itemsPerView:4}},o={getImages:function(t,n,r){var i=t.slice(n,n+r);i.find("img").filter(function(){var t=e(this);return!!t.attr("data-original")&&t[0].src.indexOf(t.attr("data-original"))===-1}).lazyload({effect:"fadeIn",skipInvisible:!1})}};u.prototype.setup={responsive:function(e){var t=e.options.responsiveConfig.itemWidth,n=e.options.responsiveConfig.margin,r=t-n,i=e.options.responsiveConfig.itemsPerView,s=t*e.itemsLength,o=t*i-n,u=s/o*100,a=n/s*100,f=n/o*100*-1,l=r/s*100;e.$container.css({width:u+"%",marginLeft:f+"%"}),e.$container.find(e.options.items).css({width:l+"%",marginLeft:a+"%"})}},u.prototype.initItems=function(){this.$items.css("display","block")},u.prototype.initControls=function(){this.$element.find(this.options.next+", "+this.options.previous).on("click",{proxy:this},this.processClick)},u.prototype.initEvents=function(){e(t).on("resize",{proxy:this},e.throttle(50,this.processResize))},u.prototype.processClick=function(t){t.preventDefault();var n=e(this),r=n.is(t.data.proxy.options.next)?"forward":"backwards";t.data.proxy.move(n,r)},u.prototype.processResize=function(e){if(!e||!e.data||!e.data.proxy||e.data.proxy._name!=="scrollItUp")return;var t=e.data.proxy,n=t.$items.index(t.$container.find(".is-selected")),r=t.getPositionToMoveTo(n);t.animate(r)},u.prototype.move=function(t,n){var r,i,s,u=!1,a=this.options.responsiveConfig,f=this.$container.find(".is-selected"),l=this.$items.index(f)>0?this.$items.index(f):0;n==="forward"?(t.is(".is-ended")?(r=0,u=e(this.options.previous),i=!0):l+a.itemsPerView>this.itemsLength-1-a.itemsPerView?(r=this.itemsLength-a.itemsPerView,i=!0):(r=l+a.itemsPerView,i=!1),this.options.lazyLoad&&o.getImages(this.$items,r,this.options.responsiveConfig.itemsPerView)):t.is(".is-ended")?(r=this.itemsLength-a.itemsPerView,u=e(this.options.next),i=!0):l-a.itemsPerView<=0?(r=0,i=!0):(r=l-a.itemsPerView,i=!1),u?this.setAtEnd(u,i):this.setAtEnd(t,i),s=this.getPositionToMoveTo(r),this.animate(s),this.setSelected(r)},u.prototype.getPositionToMoveTo=function(e){return this.$items.eq(e).position().left*-1},u.prototype.setSelected=function(e){this.$container.find(".is-selected").removeClass("is-selected"),this.$items.eq(e).addClass("is-selected")},u.prototype.isDisabled=function(e){return e.hasClass("is-ended")},u.prototype.setAtEnd=function(e,t){var n=t?"addClass":"removeClass";this.$element.find(this.options.next+", "+this.options.previous).removeClass("is-ended"),e[n]("is-ended")},u.prototype.animate=function(e){Modernizr.csstransitions?this.$container.css({left:e}):this.$container.animate({left:e},{easing:"easeInOutExpo",duration:500})},u.prototype.destroy=function(){this.resetMeasurements(),this.resetSelected(),this.resetButtons(),this.removeEvents(),this.removeData()},u.prototype.removeData=function(){this.$element.removeData("plugin_"+i)},u.prototype.removeEvents=function(){this.$element.find(this.options.next+", "+this.options.previous).off("click",this.processClick)},u.prototype.resetMeasurements=function(){var t={width:"","margin-left":"",left:""};this.$container.css(t),this.$items.each(function(){e(this).css(t)})},u.prototype.resetSelected=function(){this.$container.find(".is-selected").removeClass("is-selected"),this.$items.first().addClass("is-selected")},u.prototype.resetButtons=function(){this.$element.find(this.options.previous).addClass("is-ended"),this.$element.find(this.options.next).removeClass("is-ended")},e.fn[i]=function(t){if(t==="destroy"){var n=e(this).data("plugin_"+i);if(!n)return;n.destroy();return}return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new u(this,t))})}})(jQuery,window,document);